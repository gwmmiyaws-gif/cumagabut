-- NETWORK SPY: Lihat Remote Apa yang Dipanggil Pas Fishing

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Buat GUI Spy
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "NetworkSpy"
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 700, 0, 500)
Frame.Position = UDim2.new(0.5, -350, 0.5, -250)
Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Frame.BorderSizePixel = 2
Frame.BorderColor3 = Color3.fromRGB(255, 0, 100)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundColor3 = Color3.fromRGB(255, 0, 100)
Title.Text = "üïµÔ∏è NETWORK SPY - Fishing Tracker"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Title.TextColor3 = Color3.new(1,1,1)
Title.Parent = Frame

local InfoLabel = Instance.new("TextLabel")
InfoLabel.Size = UDim2.new(1, -20, 0, 60)
InfoLabel.Position = UDim2.new(0, 10, 0, 45)
InfoLabel.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
InfoLabel.BorderSizePixel = 1
InfoLabel.BorderColor3 = Color3.fromRGB(100, 100, 100)
InfoLabel.Font = Enum.Font.Code
InfoLabel.TextSize = 11
InfoLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
InfoLabel.Text = "INSTRUCTIONS:\n1. SEKARANG FISHING MANUAL (cast, reel, catch)\n2. Semua remote calls akan tercatat di bawah\n3. Copy log dan kirim ke saya!"
InfoLabel.TextWrapped = true
InfoLabel.TextYAlignment = Enum.TextYAlignment.Top
InfoLabel.Parent = Frame

local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size = UDim2.new(1, -20, 1, -230)
ScrollFrame.Position = UDim2.new(0, 10, 0, 115)
ScrollFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
ScrollFrame.BorderSizePixel = 1
ScrollFrame.BorderColor3 = Color3.fromRGB(60, 60, 60)
ScrollFrame.ScrollBarThickness = 10
ScrollFrame.Parent = Frame

local LogContainer = Instance.new("Frame")
LogContainer.Size = UDim2.new(1, -10, 0, 0)
LogContainer.BackgroundTransparency = 1
LogContainer.AutomaticSize = Enum.AutomaticSize.Y
LogContainer.Parent = ScrollFrame

local ListLayout = Instance.new("UIListLayout")
ListLayout.Padding = UDim.new(0, 3)
ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
ListLayout.Parent = LogContainer

ListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y + 10)
end)

local CopyBtn = Instance.new("TextButton")
CopyBtn.Size = UDim2.new(0.48, -5, 0, 45)
CopyBtn.Position = UDim2.new(0, 10, 1, -55)
CopyBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 100)
CopyBtn.Text = "üìã COPY ALL"
CopyBtn.Font = Enum.Font.GothamBold
CopyBtn.TextSize = 14
CopyBtn.TextColor3 = Color3.new(1,1,1)
CopyBtn.Parent = Frame

local ClearBtn = Instance.new("TextButton")
ClearBtn.Size = UDim2.new(0.48, -5, 0, 45)
ClearBtn.Position = UDim2.new(0.52, 0, 1, -55)
ClearBtn.BackgroundColor3 = Color3.fromRGB(200, 100, 0)
ClearBtn.Text = "üóëÔ∏è CLEAR"
ClearBtn.Font = Enum.Font.GothamBold
ClearBtn.TextSize = 14
ClearBtn.TextColor3 = Color3.new(1,1,1)
ClearBtn.Parent = Frame

local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, 40, 0, 40)
CloseBtn.Position = UDim2.new(1, -40, 0, 0)
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 18
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.Parent = Frame

-- Storage
local allLogs = {}
local eventCount = 0

local function AddLog(text, color)
    eventCount = eventCount + 1
    local timestamp = os.date("%H:%M:%S")
    local fullText = string.format("[%d] [%s] %s", eventCount, timestamp, text)
    
    table.insert(allLogs, fullText)
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -10, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = fullText
    label.Font = Enum.Font.Code
    label.TextSize = 10
    label.TextColor3 = color or Color3.fromRGB(200, 200, 200)
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.TextYAlignment = Enum.TextYAlignment.Top
    label.TextWrapped = true
    label.AutomaticSize = Enum.AutomaticSize.Y
    label.Parent = LogContainer
    
    print(fullText)
    
    task.wait()
    ScrollFrame.CanvasPosition = Vector2.new(0, ScrollFrame.AbsoluteCanvasSize.Y)
end

-- Copy Button
CopyBtn.MouseButton1Click:Connect(function()
    local fullLog = table.concat(allLogs, "\n")
    setclipboard(fullLog)
    
    CopyBtn.Text = "‚úÖ COPIED!"
    CopyBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    task.wait(1.5)
    CopyBtn.Text = "üìã COPY ALL"
    CopyBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 100)
end)

-- Clear Button
ClearBtn.MouseButton1Click:Connect(function()
    allLogs = {}
    eventCount = 0
    for _, child in pairs(LogContainer:GetChildren()) do
        if child:IsA("TextLabel") then
            child:Destroy()
        end
    end
    AddLog("=== LOG CLEARED ===", Color3.fromRGB(255, 255, 0))
end)

-- Close Button
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- ============================================================
-- HOOK REMOTES
-- ============================================================

AddLog("=== NETWORK SPY STARTED ===", Color3.fromRGB(0, 255, 255))
AddLog("Sekarang FISHING MANUAL, semua network calls akan tercatat!", Color3.fromRGB(255, 255, 0))
AddLog("", Color3.new(1,1,1))

-- Find Remote Folder
local RPath = {"Packages", "_Index", "sleitnick_net@0.2.0", "net"}
local currentInstance = ReplicatedStorage

for _, childName in ipairs(RPath) do
    currentInstance = currentInstance:WaitForChild(childName, 5)
    if not currentInstance then 
        AddLog("‚ùå Path not found: " .. childName, Color3.fromRGB(255, 100, 100))
        return 
    end
end

AddLog("‚úÖ Remote folder found: " .. currentInstance:GetFullName(), Color3.fromRGB(100, 255, 100))
AddLog("", Color3.new(1,1,1))

-- Hook All RemoteEvents
local function HookRemoteEvent(remote)
    remote.OnClientEvent:Connect(function(...)
        local args = {...}
        local argsStr = ""
        
        for i, arg in ipairs(args) do
            if type(arg) == "table" then
                argsStr = argsStr .. "Table"
            else
                argsStr = argsStr .. tostring(arg)
            end
            if i < #args then argsStr = argsStr .. ", " end
        end
        
        AddLog("üîµ RE " .. remote.Name .. " | Args: " .. (argsStr ~= "" and argsStr or "None"), Color3.fromRGB(100, 200, 255))
    end)
end

-- Hook All RemoteFunctions (InvokeServer tracking)
local originalNamecall
originalNamecall = hookmetamethod(game, "__namecall", function(self, ...)
    local method = getnamecallmethod()
    local args = {...}
    
    if method == "InvokeServer" and self:IsA("RemoteFunction") then
        local argsStr = ""
        for i, arg in ipairs(args) do
            if type(arg) == "table" then
                argsStr = argsStr .. "Table"
            else
                argsStr = argsStr .. tostring(arg)
            end
            if i < #args then argsStr = argsStr .. ", " end
        end
        
        AddLog("üü¢ RF " .. self.Name .. " | Args: " .. (argsStr ~= "" and argsStr or "None"), Color3.fromRGB(100, 255, 100))
    elseif method == "FireServer" and self:IsA("RemoteEvent") then
        local argsStr = ""
        for i, arg in ipairs(args) do
            if type(arg) == "table" then
                argsStr = argsStr .. "Table"
            else
                argsStr = argsStr .. tostring(arg)
            end
            if i < #args then argsStr = argsStr .. ", " end
        end
        
        AddLog("üî¥ RE " .. self.Name .. " | Args: " .. (argsStr ~= "" and argsStr or "None"), Color3.fromRGB(255, 150, 100))
    end
    
    return originalNamecall(self, ...)
end)

-- Hook incoming events
for _, remote in pairs(currentInstance:GetDescendants()) do
    if remote:IsA("RemoteEvent") then
        HookRemoteEvent(remote)
    end
end

AddLog("‚úÖ Hooks installed! Start fishing manually now!", Color3.fromRGB(0, 255, 0))
AddLog("Legend:", Color3.fromRGB(200, 200, 200))
AddLog("  üî¥ RE = YOU called RemoteEvent:FireServer()", Color3.fromRGB(255, 150, 100))
AddLog("  üü¢ RF = YOU called RemoteFunction:InvokeServer()", Color3.fromRGB(100, 255, 100))
AddLog("  üîµ RE = SERVER sent you RemoteEvent", Color3.fromRGB(100, 200, 255))

print("üïµÔ∏è Network Spy active! Manual fishing dimulai!")
